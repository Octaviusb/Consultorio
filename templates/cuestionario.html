<!DOCTYPE html>
<html lang="es">
<head>
    <title>Cuestionario</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="/static/styles.css">

</head>
<body>

    <h1>Cuestionario Base</h1>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Formatear la fecha de nacimiento en el formato adecuado "yyyy-MM-dd"
            const fechaNacimiento = new Date("{{ paciente['fecha_nacimiento'] }}");
            const year = fechaNacimiento.getFullYear();
            const month = String(fechaNacimiento.getMonth() + 1).padStart(2, '0');
            const day = String(fechaNacimiento.getDate()).padStart(2, '0');
            const fechaFormateada = `${year}-${month}-${day}`;
            document.getElementById('fecha_nacimiento').value = fechaFormateada;

            // Convertir el campo de edad a un valor numérico válido
            const edad = parseInt("{{ paciente['edad'] }}");
            document.getElementById('edad').value = isNaN(edad) ? '' : edad;
        });
    </script>

    <form action="/cuestionario/{{ paciente['id'] }}" method="POST">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" value="{{ paciente['nombre'] }}">

        <label for="fecha_nacimiento">Fecha de Nacimiento:</label>
        <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" value="{{ paciente['fecha_nacimiento'] }}" required>
    
        <!-- Campo de edad -->
        <label for="edad">Edad:</label>
        <input type="number" id="edad" name="edad" value="{{ paciente['edad'] }}" required>
    
        <!-- Preguntas del cuestionario -->
        <label for="parte_cuerpo">1. ¿Qué parte del cuerpo le duele? ¿En qué momento duele más?</label>
        <input type="text" id="parte_cuerpo" name="pregunta1" required>

        <label for="tiempo_dolor">2. ¿Cuánto tiempo hace que le duele? ¿Cuándo recrudeció?</label>
        <input type="text" id="tiempo_dolor" name="pregunta2" required>

        <label for="causa_dolor">3. ¿A partir de qué hecho se produjo (accidente, caída, mal movimiento, etc.)?</label>
        <input type="text" id="causa_dolor" name="pregunta3" required>

        <label for="accidente">4. ¿Qué accidente o caída importante tuvo?</label>
        <input type="text" id="accidente" name="pregunta4" required>

        <label for="Tratamiento">5. ¿Qué tratamientos hizo? ¿Tuvieron resultado? </label>
        <input type="text" id="Tratamiento" name="pregunta5" required>

        <label for="analisis">6. ¿Se hizo estudios? ¿Cuáles? ¿Qué resultados? (Radiografías, análisis, resonancia magnética, etc.) </label>
        <input type="text" id="analisis" name="pregunta6" required>

        <label for="medicamentos">7. ¿Qué medicación tomó o está tomando? </label>
        <input type="text" id="medicamentos" name="pregunta7" required>

        <label for="signos">8. ¿Siente otros signos o síntomas?, ¿desde cuándo? Subraye lo que usted sienta: Ardor, neuralgia, mareos, insomnio, taquicardia, palpitaciones, calambres, fatiga, hormigueos en las manos o pies, náuseas, cefaleas, zumbido en los oídos, constipación, diarrea, ardor al orinar, calor, frío, anestesia. Dolor en las mamas, dolor ovárico, puntadas. </label>
        <input type="text" id="signos" name="pregunta8" required>

        <label for="operaciones">9. ¿Qué operaciones tuvo?</label>
        <input type="text" id="operaciones" name="pregunta9" required>

        <label for="yeso">10. ¿Usó plantillas, corset o yeso?</label>
        <input type="text" id="yeso" name="pregunta10" required>

        <label for="duerme">11. ¿En qué posición duerme? </label>
        <input type="text" id="duerme" name="pregunta11" required>

        <label for="colchon">12. ¿Qué tipo de colchón y almohada usa? </label>
        <input type="text" id="colchon" name="pregunta12" required>

        <label for="ejercicio">13. ¿Realiza o realizó algún deporte, ejercicio físico o caminata?, ¿cuánto tiempo? </label>
        <input type="text" id="ejercicio" name="pregunta13" required>

        <label for="television">14. ¿Mira televisión o lee en la cama? ¿Cuánto tiempo?</label>
        <input type="text" id="television" name="pregunta14" required>

        <label for="sentarse">15. ¿Cómo se sienta habitualmente?, ¿en dónde?</label>
        <input type="text" id="sentarse" name="pregunta15" required>

        <label for="sueño">16. ¿Cuántas horas duerme de lunes a viernes?</label>
        <input type="text" id="sueño" name="pregunta16" required>

        <label for="trabajo">17. ¿Cuántas horas trabaja por día?, ¿en qué? ¿Realiza esfuerzos?</label>
        <input type="text" id="trabajo" name="pregunta17" required>

        <label for="recreacion">18. ¿Cuál es su horario de recreación?</label>
        <input type="text" id="recreacion" name="pregunta18" required>

        <label for="hogar">19. ¿Qué trabajos o quehaceres realiza en su casa?</label>
        <input type="text" id="hogar" name="pregunta19" required>

        <label for="auto">20. ¿Cuántas horas por día está sentado en su auto?, ¿cuántos kilómetros? </label>
        <input type="text" id="auto" name="pregunta20" required>

        <label for="lavarropas">21. ¿En qué tipo de lavarropas usted lava?</label>
        <input type="text" id="lavarropas" name="pregunta21" required>

        <label for="consultas">22. ¿A qué profesionales acudió anteriormente?</label>
        <input type="text" id="consultas" name="pregunta22" required>

        <label for="diagnostico">23. ¿Qué le diagnosticaron? </label>
        <input type="text" id="diagnostico" name="pregunta23" required>

        <label for="pies">24. ¿Tiene “dureza”, callos, juanetes o dedos “martillo” en sus pies?</label>
        <input type="text" id="pies" name="pregunta24" required>

        <label for="antecedentes">25. Agregue cualquier otro comentario (antecedentes familiares).</label>
        <input type="text" id="antecedentes" name="pregunta25" required>

        <button type="submit">Guardar Cuestionario</button>
    </form>

    <button type="button" id="editarNombre" onclick="habilitarEdicionNombre()">Editar Nombre</button>
    
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Formatear la fecha de nacimiento en el formato adecuado "yyyy-MM-dd"
            const fechaNacimiento = new Date("{{ paciente['fecha_nacimiento'] }}");
            // Resto del código para formatear y mostrar los datos del paciente
        });
    </script>
</body>
</html>
